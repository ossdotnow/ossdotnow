import { categoryProjectStatuses, categoryProjectTypes } from '../../schema';
import { eq, inArray } from 'drizzle-orm';
import { project } from '../../schema';
import { db } from '../..';

export const projectsData = {
  async run(database: typeof db) {
    // Fetch categories from DB after they've been seeded
    const [productionReadyStatus] = await database
      .select()
      .from(categoryProjectStatuses)
      .where(eq(categoryProjectStatuses.name, 'production-ready'));

    const [devtoolsType] = await database
      .select()
      .from(categoryProjectTypes)
      .where(eq(categoryProjectTypes.name, 'developer-tools'));

    const [productivityType] = await database
      .select()
      .from(categoryProjectTypes)
      .where(eq(categoryProjectTypes.name, 'productivity'));

    const [contentManagementType] = await database
      .select()
      .from(categoryProjectTypes)
      .where(eq(categoryProjectTypes.name, 'content-management'));

    const [analyticsType] = await database
      .select()
      .from(categoryProjectTypes)
      .where(eq(categoryProjectTypes.name, 'analytics'));

    const [socialType] = await database
      .select()
      .from(categoryProjectTypes)
      .where(eq(categoryProjectTypes.name, 'social'));

    const [entertainmentType] = await database
      .select()
      .from(categoryProjectTypes)
      .where(eq(categoryProjectTypes.name, 'entertainment'));

    if (
      !productionReadyStatus?.id ||
      !devtoolsType?.id ||
      !productivityType?.id ||
      !contentManagementType?.id ||
      !analyticsType?.id ||
      !socialType?.id ||
      !entertainmentType?.id
    ) {
      throw new Error(
        'One or more required category/status/type IDs are missing from the database.',
      );
    }

    const projectsToInsert = [
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'facebook/react',
        gitHost: 'github' as const,
        name: 'React',
        description:
          'A declarative, efficient, and flexible JavaScript library for building user interfaces',
        socialLinks: {
          website: 'https://react.dev',
          twitter: 'https://twitter.com/reactjs',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: true,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'vuejs/vue',
        gitHost: 'github' as const,
        name: 'Vue.js',
        description:
          'A progressive, incrementally-adoptable JavaScript framework for building UI on the web',
        socialLinks: {
          website: 'https://vuejs.org',
          twitter: 'https://twitter.com/vuejs',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'angular/angular',
        gitHost: 'github' as const,
        name: 'Angular',
        description: "The modern web developer's platform",
        socialLinks: {
          website: 'https://angular.io',
          twitter: 'https://twitter.com/angular',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'nodejs/node',
        gitHost: 'github' as const,
        name: 'Node.js',
        description: "Node.js JavaScript runtime built on Chrome's V8 JavaScript engine",
        socialLinks: {
          website: 'https://nodejs.org',
          twitter: 'https://twitter.com/nodejs',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'microsoft/TypeScript',
        gitHost: 'github' as const,
        name: 'TypeScript',
        description:
          'TypeScript is a superset of JavaScript that compiles to clean JavaScript output',
        socialLinks: {
          website: 'https://www.typescriptlang.org',
          twitter: 'https://twitter.com/typescript',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: true,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'microsoft/vscode',
        gitHost: 'github' as const,
        name: 'Visual Studio Code',
        description: 'Visual Studio Code - Open Source ("Code - OSS")',
        socialLinks: {
          website: 'https://code.visualstudio.com',
          twitter: 'https://twitter.com/code',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: productivityType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: true,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'tensorflow/tensorflow',
        gitHost: 'github' as const,
        name: 'TensorFlow',
        description: 'An Open Source Machine Learning Framework for Everyone',
        socialLinks: {
          website: 'https://www.tensorflow.org',
          twitter: 'https://twitter.com/tensorflow',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'moby/moby',
        gitHost: 'github' as const,
        name: 'Docker (Moby)',
        description:
          'Moby Project - a collaborative project for the container ecosystem to assemble container-based systems',
        socialLinks: {
          website: 'https://mobyproject.org',
          twitter: 'https://twitter.com/moby',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'kubernetes/kubernetes',
        gitHost: 'github' as const,
        name: 'Kubernetes',
        description: 'Production-Grade Container Scheduling and Management',
        socialLinks: {
          website: 'https://kubernetes.io',
          twitter: 'https://twitter.com/kubernetesio',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'rust-lang/rust',
        gitHost: 'github' as const,
        name: 'Rust',
        description: 'Empowering everyone to build reliable and efficient software',
        socialLinks: {
          website: 'https://www.rust-lang.org',
          twitter: 'https://twitter.com/rustlang',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'golang/go',
        gitHost: 'github' as const,
        name: 'Go',
        description: 'The Go programming language',
        socialLinks: {
          website: 'https://go.dev',
          twitter: 'https://twitter.com/golang',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'vercel/next.js',
        gitHost: 'github' as const,
        name: 'Next.js',
        description: 'The React Framework for the Web',
        socialLinks: {
          website: 'https://nextjs.org',
          twitter: 'https://twitter.com/nextjs',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: true,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'tailwindlabs/tailwindcss',
        gitHost: 'github' as const,
        name: 'Tailwind CSS',
        description: 'A utility-first CSS framework for rapid UI development',
        socialLinks: {
          website: 'https://tailwindcss.com',
          twitter: 'https://twitter.com/tailwindcss',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'django/django',
        gitHost: 'github' as const,
        name: 'Django',
        description: 'The Web framework for perfectionists with deadlines',
        socialLinks: {
          website: 'https://www.djangoproject.com',
          twitter: 'https://twitter.com/djangoproject',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'git/git',
        gitHost: 'github' as const,
        name: 'Git',
        description: 'Git Source Code Mirror - This is a publish-only repository',
        socialLinks: {
          website: 'https://git-scm.com',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: false,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'postgres/postgres',
        gitHost: 'github' as const,
        name: 'PostgreSQL',
        description: 'Mirror of the official PostgreSQL GIT repository',
        socialLinks: {
          website: 'https://www.postgresql.org',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: false,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'redis/redis',
        gitHost: 'github' as const,
        name: 'Redis',
        description: 'Redis is an in-memory database that persists on disk',
        socialLinks: {
          website: 'https://redis.io',
          twitter: 'https://twitter.com/redisinc',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'webpack/webpack',
        gitHost: 'github' as const,
        name: 'webpack',
        description: 'A bundler for javascript and friends',
        socialLinks: {
          website: 'https://webpack.js.org',
          twitter: 'https://twitter.com/webpack',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'facebook/jest',
        gitHost: 'github' as const,
        name: 'Jest',
        description: 'Delightful JavaScript Testing',
        socialLinks: {
          website: 'https://jestjs.io',
          twitter: 'https://twitter.com/fbjest',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'vitejs/vite',
        gitHost: 'github' as const,
        name: 'Vite',
        description: 'Next Generation Frontend Tooling',
        socialLinks: {
          website: 'https://vitejs.dev',
          twitter: 'https://twitter.com/vite_js',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'strapi/strapi',
        gitHost: 'github' as const,
        name: 'Strapi',
        description: 'The leading open-source headless CMS',
        socialLinks: {
          website: 'https://strapi.io',
          twitter: 'https://twitter.com/strapijs',
          discord: 'https://discord.strapi.io',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: contentManagementType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: true,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'WordPress/WordPress',
        gitHost: 'github' as const,
        name: 'WordPress',
        description:
          'WordPress, Git-ified. This repository is just a mirror of the WordPress subversion repository',
        socialLinks: {
          website: 'https://wordpress.org',
          twitter: 'https://twitter.com/wordpress',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: contentManagementType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'obsidianmd/obsidian-releases',
        gitHost: 'github' as const,
        name: 'Obsidian',
        description: 'Community plugins list, theme list, and releases of Obsidian',
        socialLinks: {
          website: 'https://obsidian.md',
          twitter: 'https://twitter.com/obsdmd',
          discord: 'https://discord.gg/veuWUTm',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: productivityType?.id,
        isLookingForContributors: false,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'grafana/grafana',
        gitHost: 'github' as const,
        name: 'Grafana',
        description: 'The open and composable observability and data visualization platform',
        socialLinks: {
          website: 'https://grafana.com',
          twitter: 'https://twitter.com/grafana',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: analyticsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: true,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'prometheus/prometheus',
        gitHost: 'github' as const,
        name: 'Prometheus',
        description: 'The Prometheus monitoring system and time series database',
        socialLinks: {
          website: 'https://prometheus.io',
          twitter: 'https://twitter.com/PrometheusIO',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: analyticsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'mastodon/mastodon',
        gitHost: 'github' as const,
        name: 'Mastodon',
        description: 'Your self-hosted, globally interconnected microblogging community',
        socialLinks: {
          website: 'https://joinmastodon.org',
          twitter: 'https://twitter.com/Mastodon',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: socialType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'discourse/discourse',
        gitHost: 'github' as const,
        name: 'Discourse',
        description: 'A platform for community discussion. Free, open, simple',
        socialLinks: {
          website: 'https://www.discourse.org',
          twitter: 'https://twitter.com/discourse',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: socialType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'gitlabhq/gitlabhq',
        gitHost: 'github' as const,
        name: 'GitLab',
        description: 'GitLab CE Mirror - GitLab Community Edition',
        socialLinks: {
          website: 'https://about.gitlab.com',
          twitter: 'https://twitter.com/gitlab',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: true,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'Homebrew/brew',
        gitHost: 'github' as const,
        name: 'Homebrew',
        description: 'The missing package manager for macOS (or Linux)',
        socialLinks: {
          website: 'https://brew.sh',
          twitter: 'https://twitter.com/MacHomebrew',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'neovim/neovim',
        gitHost: 'github' as const,
        name: 'Neovim',
        description: 'Vim-fork focused on extensibility and usability',
        socialLinks: {
          website: 'https://neovim.io',
          twitter: 'https://twitter.com/neovim',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'godotengine/godot',
        gitHost: 'github' as const,
        name: 'Godot Engine',
        description: 'Godot Engine - Multi-platform 2D and 3D game engine',
        socialLinks: {
          website: 'https://godotengine.org',
          twitter: 'https://twitter.com/godotengine',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: entertainmentType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      //gitlab
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'inkscape/inkscape',
        gitHost: 'gitlab' as const,
        name: 'Inkscape',
        description: 'Professional vector graphics editor for Windows, macOS & Linux',
        socialLinks: {
          website: 'https://inkscape.org',
          twitter: 'https://twitter.com/inkscape',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: productivityType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'CalcProgrammer1/OpenRGB',
        gitHost: 'gitlab' as const,
        name: 'OpenRGB',
        description: 'Cross-platform RGB lighting control that works vendor-independently',
        socialLinks: {
          website: 'https://openrgb.org',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: productivityType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'gitlab-org/gitlab-runner',
        gitHost: 'gitlab' as const,
        name: 'GitLab Runner',
        description: 'Lightweight agent that executes GitLab CI/CD jobs and reports results',
        socialLinks: {
          website: 'https://docs.gitlab.com/runner/',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'veloren/veloren',
        gitHost: 'gitlab' as const,
        name: 'Veloren',
        description: 'Voxel-based open-world action RPG written in Rust',
        socialLinks: {
          website: 'https://veloren.net',
          twitter: 'https://twitter.com/velorenproject',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: entertainmentType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'AuroraOSS/AuroraStore',
        gitHost: 'gitlab' as const,
        name: 'Aurora Store',
        description: 'Unofficial, privacy-respecting Google Play client for Android',
        socialLinks: {
          website: 'https://auroraoss.com',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: productivityType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
      {
        ownerId: null,
        logoUrl: null,
        gitRepoUrl: 'graphviz/graphviz',
        gitHost: 'gitlab' as const,
        name: 'Graphviz',
        description: 'Open-source graph-visualization software',
        socialLinks: {
          website: 'https://graphviz.org',
        },
        approvalStatus: 'approved' as const,
        statusId: productionReadyStatus?.id,
        typeId: devtoolsType?.id,
        isLookingForContributors: true,
        isLookingForInvestors: false,
        isHiring: false,
        isPublic: true,
        hasBeenAcquired: false,
        isPinned: false,
      },
    ];

    const gitRepoUrls = projectsToInsert.map((p) => p.gitRepoUrl);

    const existingProjects = await database
      .select({ gitRepoUrl: project.gitRepoUrl })
      .from(project)
      .where(inArray(project.gitRepoUrl, gitRepoUrls));

    const existingGitRepoUrls = new Set(existingProjects.map((p) => p.gitRepoUrl));

    const newProjects = projectsToInsert.filter((p) => !existingGitRepoUrls.has(p.gitRepoUrl));

    if (newProjects.length > 0) {
      await database.insert(project).values(newProjects);
      console.log(`✅ Seeded projects with ${newProjects.length} new records`);
      if (existingGitRepoUrls.size > 0) {
        console.log(`⏭️  Skipped ${existingGitRepoUrls.size} existing projects`);
      }
    } else {
      console.log(`⏭️  All projects already exist, skipping...`);
    }
  },
};
